var _n=Object.defineProperty;var pn=(t,e,l)=>e in t?_n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var pt=(t,e,l)=>(pn(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();function $(){}function vn(t,e){for(const l in e)t[l]=e[l];return t}function sn(t){return t()}function St(){return Object.create(null)}function ue(t){t.forEach(sn)}function Ct(t){return typeof t=="function"}function ye(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function yn(t){return Object.keys(t).length===0}function an(t,...e){if(t==null){for(const n of e)n(void 0);return $}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function z(t,e,l){t.$$.on_destroy.push(an(e,l))}function bn(t,e,l,n){if(t){const o=un(t,e,l,n);return t[0](o)}}function un(t,e,l,n){return t[1]&&n?vn(l.ctx.slice(),t[1](n(e))):l.ctx}function kn(t,e,l,n){if(t[2]&&n){const o=t[2](n(l));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],i=Math.max(e.dirty.length,o.length);for(let c=0;c<i;c+=1)r[c]=e.dirty[c]|o[c];return r}return e.dirty|o}return e.dirty}function wn(t,e,l,n,o,r){if(o){const i=un(e,l,n,r);t.p(i,o)}}function Cn(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function Xe(t){return t??""}function V(t,e,l){return t.set(l),e}function u(t,e){t.appendChild(e)}function N(t,e,l){t.insertBefore(e,l||null)}function L(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function b(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function j(){return Z(" ")}function ct(){return Z("")}function x(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function p(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function We(t){return t===""?null:+t}function Tn(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function ve(t,e){t.value=e??""}function we(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Gt(t,e,l){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function Sn(t){const e=t.querySelector(":checked");return e&&e.__value}function Gn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let it;function ot(t){it=t}function fn(){if(!it)throw new Error("Function called outside component initialization");return it}function Rn(t){fn().$$.on_mount.push(t)}function st(){const t=fn();return(e,l,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=Gn(e,l,{cancelable:n});return o.slice().forEach(i=>{i.call(t,r)}),!r.defaultPrevented}return!0}}const Qe=[],yt=[];let Ye=[];const bt=[],In=Promise.resolve();let kt=!1;function Fn(){kt||(kt=!0,In.then(dn))}function gt(t){Ye.push(t)}function Mn(t){bt.push(t)}const vt=new Set;let Ze=0;function dn(){if(Ze!==0)return;const t=it;do{try{for(;Ze<Qe.length;){const e=Qe[Ze];Ze++,ot(e),On(e.$$)}}catch(e){throw Qe.length=0,Ze=0,e}for(ot(null),Qe.length=0,Ze=0;yt.length;)yt.pop()();for(let e=0;e<Ye.length;e+=1){const l=Ye[e];vt.has(l)||(vt.add(l),l())}Ye.length=0}while(Qe.length);for(;bt.length;)bt.pop()();kt=!1,vt.clear(),ot(t)}function On(t){if(t.fragment!==null){t.update(),ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(gt)}}function Bn(t){const e=[],l=[];Ye.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Ye=e}const ht=new Set;let Ve;function ce(){Ve={r:0,c:[],p:Ve}}function se(){Ve.r||ue(Ve.c),Ve=Ve.p}function O(t,e){t&&t.i&&(ht.delete(t),t.i(e))}function E(t,e,l,n){if(t&&t.o){if(ht.has(t))return;ht.add(t),Ve.c.push(()=>{ht.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function W(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ft(t,e){E(t,1,1,()=>{e.delete(t.key)})}function dt(t,e,l,n,o,r,i,c,s,d,f,w){let m=t.length,v=r.length,h=m;const T={};for(;h--;)T[t[h].key]=h;const y=[],S=new Map,_=new Map,G=[];for(h=v;h--;){const P=w(o,r,h),Y=l(P);let F=i.get(Y);F?n&&G.push(()=>F.p(P,e)):(F=d(Y,P),F.c()),S.set(Y,y[h]=F),Y in T&&_.set(Y,Math.abs(h-T[Y]))}const M=new Set,C=new Set;function H(P){O(P,1),P.m(c,f),i.set(P.key,P),f=P.first,v--}for(;m&&v;){const P=y[v-1],Y=t[m-1],F=P.key,re=Y.key;P===Y?(f=P.first,m--,v--):S.has(re)?!i.has(F)||M.has(F)?H(P):C.has(re)?m--:_.get(F)>_.get(re)?(C.add(F),H(P)):(M.add(re),m--):(s(Y,i),m--)}for(;m--;){const P=t[m];S.has(P.key)||s(P,i)}for(;v;)H(y[v-1]);return ue(G),y}function Dn(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function oe(t){t&&t.c()}function ne(t,e,l){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,l),gt(()=>{const r=t.$$.on_mount.map(sn).filter(Ct);t.$$.on_destroy?t.$$.on_destroy.push(...r):ue(r),t.$$.on_mount=[]}),o.forEach(gt)}function le(t,e){const l=t.$$;l.fragment!==null&&(Bn(l.after_update),ue(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function jn(t,e){t.$$.dirty[0]===-1&&(Qe.push(t),Fn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Te(t,e,l,n,o,r,i=null,c=[-1]){const s=it;ot(t);const d=t.$$={fragment:null,ctx:[],props:r,update:$,not_equal:o,bound:St(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:St(),dirty:c,skip_bound:!1,root:e.target||s.$$.root};i&&i(d.root);let f=!1;if(d.ctx=l?l(t,e.props||{},(w,m,...v)=>{const h=v.length?v[0]:m;return d.ctx&&o(d.ctx[w],d.ctx[w]=h)&&(!d.skip_bound&&d.bound[w]&&d.bound[w](h),f&&jn(t,w)),m}):[],d.update(),f=!0,ue(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const w=Tn(e.target);d.fragment&&d.fragment.l(w),w.forEach(L)}else d.fragment&&d.fragment.c();e.intro&&O(t.$$.fragment),ne(t,e.target,e.anchor),dn()}ot(s)}class Se{constructor(){pt(this,"$$");pt(this,"$$set")}$destroy(){le(this,1),this.$destroy=$}$on(e,l){if(!Ct(l))return $;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!yn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const En="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(En);function Rt(t,e,l){const n=t.slice();return n[6]=e[l],n}function It(t){let e,l=t[6]+"",n,o;return{c(){e=b("li"),n=Z(l),o=j()},m(r,i){N(r,e,i),u(e,n),u(e,o)},p(r,i){i&1&&l!==(l=r[6]+"")&&ae(n,l)},d(r){r&&L(e)}}}function Pn(t){let e,l,n,o=t[0].name+"",r,i,c,s,d,f,w,m,v,h,T,y,S,_,G=W(t[0].description),M=[];for(let C=0;C<G.length;C+=1)M[C]=It(Rt(t,G,C));return{c(){e=b("main"),l=b("div"),n=b("span"),r=Z(o),i=j(),c=b("div"),c.textContent="x",s=j(),d=b("div"),f=b("ul");for(let C=0;C<M.length;C+=1)M[C].c();w=j(),m=b("button"),v=Z("Select Country"),p(c,"id","cancel"),p(c,"class","svelte-5qlp87"),p(l,"id","name"),p(l,"class","svelte-5qlp87"),p(f,"class","svelte-5qlp87"),p(d,"id","description"),p(d,"class","svelte-5qlp87"),p(m,"class",h=Xe(t[2]?"canceledButton":"")+" svelte-5qlp87"),m.value=T=t[0].name,p(e,"class",y=Xe(t[2]?"canceled":t[1]===t[0].name?"selected":"")+" svelte-5qlp87")},m(C,H){N(C,e,H),u(e,l),u(l,n),u(n,r),u(l,i),u(l,c),u(e,s),u(e,d),u(d,f);for(let P=0;P<M.length;P+=1)M[P]&&M[P].m(f,null);u(e,w),u(e,m),u(m,v),S||(_=[x(c,"click",t[4]),x(m,"click",t[3])],S=!0)},p(C,[H]){if(H&1&&o!==(o=C[0].name+"")&&ae(r,o),H&1){G=W(C[0].description);let P;for(P=0;P<G.length;P+=1){const Y=Rt(C,G,P);M[P]?M[P].p(Y,H):(M[P]=It(Y),M[P].c(),M[P].m(f,null))}for(;P<M.length;P+=1)M[P].d(1);M.length=G.length}H&4&&h!==(h=Xe(C[2]?"canceledButton":"")+" svelte-5qlp87")&&p(m,"class",h),H&1&&T!==(T=C[0].name)&&(m.value=T),H&7&&y!==(y=Xe(C[2]?"canceled":C[1]===C[0].name?"selected":"")+" svelte-5qlp87")&&p(e,"class",y)},i:$,o:$,d(C){C&&L(e),_e(M,C),S=!1,ue(_)}}}function Un(t,e,l){let{country:n}=e,{selectedCountry:o}=e,r=!1;const i=st();function c(d){r||i("updateSelectedCountry",{selectedCountry:d.target.value})}const s=()=>l(2,r=!r);return t.$$set=d=>{"country"in d&&l(0,n=d.country),"selectedCountry"in d&&l(1,o=d.selectedCountry)},[n,o,r,c,s]}class An extends Se{constructor(e){super(),Te(this,e,Un,Pn,ye,{country:0,selectedCountry:1})}}function Ft(t,e,l){const n=t.slice();return n[8]=e[l],n}function Mt(t){let e,l;return e=new An({props:{country:t[8],selectedCountry:t[0]}}),e.$on("updateSelectedCountry",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o&1&&(r.selectedCountry=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Wn(t){let e,l,n,o,r,i,c,s,d,f,w,m,v,h,T,y=W(t[3]),S=[];for(let G=0;G<y.length;G+=1)S[G]=Mt(Ft(t,y,G));const _=G=>E(S[G],1,1,()=>{S[G]=null});return{c(){e=b("main"),l=b("div"),n=b("div"),n.textContent="Number of players",o=j(),r=b("select"),i=b("option"),i.textContent="2",c=b("option"),c.textContent="4",s=j(),d=b("div");for(let G=0;G<S.length;G+=1)S[G].c();f=j(),w=b("button"),m=Z("Finalize Country"),p(n,"id","player-title"),p(n,"class","svelte-vrdv6y"),i.__value="2",ve(i,i.__value),c.__value="4",ve(c,c.__value),p(r,"id","select-button"),p(r,"class","svelte-vrdv6y"),t[1]===void 0&&gt(()=>t[5].call(r)),p(l,"class","players-header svelte-vrdv6y"),p(d,"class","card-container svelte-vrdv6y"),p(w,"id","finalize"),w.value=t[0],p(w,"class","svelte-vrdv6y")},m(G,M){N(G,e,M),u(e,l),u(l,n),u(l,o),u(l,r),u(r,i),u(r,c),Gt(r,t[1],!0),u(e,s),u(e,d);for(let C=0;C<S.length;C+=1)S[C]&&S[C].m(d,null);u(e,f),u(e,w),u(w,m),v=!0,h||(T=[x(r,"change",t[5]),x(w,"click",t[2])],h=!0)},p(G,[M]){if(M&2&&Gt(r,G[1]),M&25){y=W(G[3]);let C;for(C=0;C<y.length;C+=1){const H=Ft(G,y,C);S[C]?(S[C].p(H,M),O(S[C],1)):(S[C]=Mt(H),S[C].c(),O(S[C],1),S[C].m(d,null))}for(ce(),C=y.length;C<S.length;C+=1)_(C);se()}(!v||M&1)&&(w.value=G[0])},i(G){if(!v){for(let M=0;M<y.length;M+=1)O(S[M]);v=!0}},o(G){S=S.filter(Boolean);for(let M=0;M<S.length;M+=1)E(S[M]);v=!1},d(G){G&&L(e),_e(S,G),h=!1,ue(T)}}}function zn(t,e,l){let n,o=2;const r=st();function i(w){c(),r("updateFinalCountry",{finalCountry:w.target.value})}function c(){r("updatePlayerCount",{finalPlayerCount:o})}const s=[{name:"Switzerland",description:["Gain +3 gold every round","This doubles itself with blacksmithing and all other gold upgrading technology"]},{name:"Greece",description:["Gain +3 tech every round","This doubles itself with every tech upgrading technology"]},{name:"Rome",description:["Tier 1 tiles cost 15 food","+5 food from all food tiles as Republic"]},{name:"Egypt",description:["+1 tech OR gold from deserts tiles"]},{name:"Cajuns",description:["Tier 1 tiles cost 15 food","Double food OR wood from swamps"]},{name:"Germany",description:["+3 defense and +5 food in forest","***bonus defense not applied to city/capitol on a forest tile***"]},{name:"America",description:["+5 Iron and +1 gold in mountains"]},{name:"Atlantis",description:["All cities can be built on water tiles adjacent to atleast 3 land tiles","+10 food per city on water tiles","Navigation allows settlements on deep ocean and an additional +10 food per water city"]},{name:"Inca",description:["All cities can be built on mountains","Gain resources from mountains even if it becomes a city tile","+1 gold for every 5 gold you are making per turn"]},{name:"Mongolia",description:["Calvary have +1 move and attack","Settlers have base cost of 40 food","Capitol has 5 starting outpost"]},{name:"Persia",description:["+5 food from desert tiles","Granary gives and additional +10 food per desert"]},{name:"India",description:["Tier 2 outpost cost 40","+3 defense and -3 attack added to units with theocracy","Capitol has 5 starting outpost"]},{name:"Israel",description:["Begin game with agriculture","+2 attack with theocracy"]},{name:"Russia",description:["+5 food from snow tiles","Granary gives and additional +10 food per snow"]},{name:"Vikings",description:["At start of game you receive a settler and navy unit","+3 attack and -2 defense added to units with anarchy"]},{name:"France",description:["+2 attack to infantry and advanced units","+1 movement for all ground forces (except calvary)","+5 food from forest tiles"]},{name:"Korea",description:["Start with two capitols (must be 1 tile between capitols)","+2 attack for air untis","5 starting outpost between both capitols combined"]},{name:"China",description:["New settlements start with 4 outpost instead of 3","+1 attack and +1 defense added to units with dictator","Capitol has 5 starting outpost"]},{name:"The Congo",description:["Forest tiles are also gold tiles"]},{name:"Japan",description:["+5 food from water tiles"]},{name:"England",description:["+3 defense and +1 movement to all navy","Cost of navy units is reduced by half (rounded up to nearest 5)"]},{name:"Dutch Empire",description:["+3 gold, +3 tech while democracy","Both gold and tech double from tech and gold technologies, respectively"]}];function d(w){l(0,n=w.detail.selectedCountry)}function f(){o=Sn(this),l(1,o)}return[n,o,i,s,d,f]}class Ln extends Se{constructor(e){super(),Te(this,e,zn,Wn,ye,{})}}function Ot(t,e,l){const n=t.slice();return n[4]=e[l],n}function Bt(t){let e,l=t[4]+"",n,o;return{c(){e=b("li"),n=Z(l),o=j()},m(r,i){N(r,e,i),u(e,n),u(e,o)},p(r,i){i&1&&l!==(l=r[4]+"")&&ae(n,l)},d(r){r&&L(e)}}}function qn(t){let e,l,n,o=t[0].name+"",r,i,c,s,d,f,w,m,v,h,T,y=W(t[0].description),S=[];for(let _=0;_<y.length;_+=1)S[_]=Bt(Ot(t,y,_));return{c(){e=b("main"),l=b("div"),n=b("span"),r=Z(o),i=j(),c=b("div"),s=b("ul");for(let _=0;_<S.length;_+=1)S[_].c();d=j(),f=b("button"),w=Z("Select Government"),p(l,"id","name"),p(l,"class","svelte-1c44n8w"),p(s,"class","svelte-1c44n8w"),p(c,"id","description"),p(c,"class","svelte-1c44n8w"),f.value=m=t[0].name,p(f,"class","svelte-1c44n8w"),p(e,"class",v=Xe(t[1]===t[0].name?"selected":"")+" svelte-1c44n8w")},m(_,G){N(_,e,G),u(e,l),u(l,n),u(n,r),u(e,i),u(e,c),u(c,s);for(let M=0;M<S.length;M+=1)S[M]&&S[M].m(s,null);u(e,d),u(e,f),u(f,w),h||(T=x(f,"click",t[2]),h=!0)},p(_,[G]){if(G&1&&o!==(o=_[0].name+"")&&ae(r,o),G&1){y=W(_[0].description);let M;for(M=0;M<y.length;M+=1){const C=Ot(_,y,M);S[M]?S[M].p(C,G):(S[M]=Bt(C),S[M].c(),S[M].m(s,null))}for(;M<S.length;M+=1)S[M].d(1);S.length=y.length}G&1&&m!==(m=_[0].name)&&(f.value=m),G&3&&v!==(v=Xe(_[1]===_[0].name?"selected":"")+" svelte-1c44n8w")&&p(e,"class",v)},i:$,o:$,d(_){_&&L(e),_e(S,_),h=!1,T()}}}function Nn(t,e,l){let{government:n}=e,{selectedGovernment:o}=e;const r=st();function i(c){r("updateSelectedGovernment",{selectedGovernment:c.target.value})}return t.$$set=c=>{"government"in c&&l(0,n=c.government),"selectedGovernment"in c&&l(1,o=c.selectedGovernment)},[n,o,i]}class Vn extends Se{constructor(e){super(),Te(this,e,Nn,qn,ye,{government:0,selectedGovernment:1})}}function Dt(t,e,l){const n=t.slice();return n[5]=e[l],n}function jt(t){let e,l;return e=new Vn({props:{government:t[5],selectedGovernment:t[0]}}),e.$on("updateSelectedGovernment",t[2]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o&1&&(r.selectedGovernment=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Hn(t){let e,l,n,o,r,i,c,s,d=W(t[3]),f=[];for(let m=0;m<d.length;m+=1)f[m]=jt(Dt(t,d,m));const w=m=>E(f[m],1,1,()=>{f[m]=null});return{c(){e=b("main"),l=b("div");for(let m=0;m<f.length;m+=1)f[m].c();n=j(),o=b("button"),r=Z("Finalize Government"),p(l,"class","card-container svelte-720kjg"),p(o,"id","finalize"),o.value=t[0],p(o,"class","svelte-720kjg")},m(m,v){N(m,e,v),u(e,l);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(l,null);u(e,n),u(e,o),u(o,r),i=!0,c||(s=x(o,"click",t[1]),c=!0)},p(m,[v]){if(v&13){d=W(m[3]);let h;for(h=0;h<d.length;h+=1){const T=Dt(m,d,h);f[h]?(f[h].p(T,v),O(f[h],1)):(f[h]=jt(T),f[h].c(),O(f[h],1),f[h].m(l,null))}for(ce(),h=d.length;h<f.length;h+=1)w(h);se()}(!i||v&1)&&(o.value=m[0])},i(m){if(!i){for(let v=0;v<d.length;v+=1)O(f[v]);i=!0}},o(m){f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)E(f[v]);i=!1},d(m){m&&L(e),_e(f,m),c=!1,s()}}}function Jn(t,e,l){let n;const o=st();function r(s){o("updateFinalGovernment",{finalGovernment:s.target.value})}function i(s){l(0,n=s.detail.selectedGovernment)}return[n,r,i,[{name:"Republic",description:["Settlers cost 30 food"]},{name:"Feudalism",description:["Minimum defense for all controlled tiles is 5"]},{name:"Democracy",description:["Tier 2 outpost cost 30"]},{name:"Anarchy",description:["+3 attack","-2 defense"]},{name:"Theocracy",description:["+3 defense","-2 attack"]},{name:"Dictator",description:["+5 iron in mountains","-5 food in grasslands"]},{name:"Communism",description:["+4 attack and defense for ALL land units","Food production stops"]},{name:"Stratocracy",description:["Choose a city that is not your capitol; This city can now spawn units"]},{name:"Monarchy Dst",description:["Receive both resources from Desert tiles"]},{name:"Monarchy Swp",description:["Receive both resources from Swamp tiles"]},{name:"Monarchy Mtn",description:["Receive both resources from Mountain tiles"]}]]}class Zn extends Se{constructor(e){super(),Te(this,e,Jn,Hn,ye,{})}}const Ke=[];function Kn(t,e){return{subscribe:me(t,e).subscribe}}function me(t,e=$){let l;const n=new Set;function o(c){if(ye(t,c)&&(t=c,l)){const s=!Ke.length;for(const d of n)d[1](),Ke.push(d,t);if(s){for(let d=0;d<Ke.length;d+=2)Ke[d][0](Ke[d+1]);Ke.length=0}}}function r(c){o(c(t))}function i(c,s=$){const d=[c,s];return n.add(d),n.size===1&&(l=e(o,r)||$),c(t),()=>{n.delete(d),n.size===0&&l&&(l(),l=null)}}return{set:o,update:r,subscribe:i}}function xe(t,e,l){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Kn(l,(i,c)=>{let s=!1;const d=[];let f=0,w=$;const m=()=>{if(f)return;w();const h=e(n?d[0]:d,i,c);r?i(h):w=Ct(h)?h:$},v=o.map((h,T)=>an(h,y=>{d[T]=y,f&=~(1<<T),s&&m()},()=>{f|=1<<T}));return s=!0,m(),function(){ue(v),w(),s=!1}})}function B(t,e){const l=localStorage.getItem(t);return l!==null?e?l:JSON.parse(l):0}const pe=me(B("country",!0)),$e=me(!1);function q(t,e){return e===t?1:0}const Oe=me(B("selectionPhase",!0)?B("selectionPhase",!0):"country"),He=me(B("government",!0)),rt=me(B("round")),mt=me(B("atlantisCities")),wt=me(B("playerCount")),Ee=me({Ocean:B("Ocean"),Desert:B("Desert"),Swamp:B("Swamp"),Mountain:B("Mountain"),Grassland:B("Grassland"),Forest:B("Forest"),Snow:B("Snow")}),Pe=me({OcnFood:B("OcnFood"),OcnTech:B("OcnTech"),SwmpFood:B("SwmpFood"),SwmpWood:B("SwmpWood"),MntnIron:B("MntnIron"),MntnGold:B("MntnGold"),DsrtGold:B("DsrtGold"),DsrtTech:B("DsrtTech")}),Ce=me({Literacy:B("Literacy"),Brickwork:B("Brickwork"),Blacksmithing:B("Blacksmithing"),Woodworking:B("Woodworking"),Agriculture:B("Agriculture"),Horseback:B("Horseback"),Roadworking:B("Roadworking"),Walls:B("Walls"),Bronzeworking:B("Bronzeworking"),Shipbuilding:B("Shipbuilding"),Granary:B("Granary"),Navigation:B("Navigation"),Gunpowder:B("Gunpowder"),Currency:B("Currency"),Universities:B("Universities"),Canons:B("Canons"),SteamEngine:B("SteamEngine"),Computers:B("Computers"),Flight:B("Flight"),CombustionEngine:B("CombustionEngine"),Steamboat:B("Steamboat"),FarmingRevolution:B("FarmingRevolution"),Banking:B("Banking"),AdvancedFlight:B("AdvancedFlight"),Industrialization:B("Industrialization"),Tanks:B("Tanks"),Battleships:B("Battleships"),ModernInfantry:B("ModernInfantry"),WorldBank:B("WorldBank"),SpaceFlight:B("SpaceFlight")}),Qn=xe([Ee,Pe,Ce,pe,mt,He],([t,e,l,n,o,r])=>{let i=q("Monarchy Swp",r)>0?t.Swamp:e.SwmpFood,c=t.Grassland*5*(1+l.Agriculture+l.Granary+l.FarmingRevolution),s=t.Forest*5*(l.Woodworking+l.Granary),d=e.OcnFood*5+t.Ocean*5*l.Navigation,f=i*5*(1+l.Granary)*(1+q("Cajuns Food",n)),w=o*q("Atlantis",n)*10*(1+l.Navigation),m=5*(t.Grassland+e.SwmpFood+e.OcnFood)*q("Rome",n)*q("Republic",r),v=5*t.Forest*q("Germany",n),h=5*t.Forest*q("France",n),T=5*t.Desert*(1+2*l.Granary)*q("Persia",n),y=5*t.Snow*(1+2*l.Granary)*q("Russia",n),S=5*t.Ocean*q("Japan",n),_=-5*t.Grassland*q("Dictator",r),G=c+s+d+f+w+m+v+h+T+y+S+_;return G=G*(1-q("Communism",r)),G}),Xn=xe([Ee,Pe,Ce,pe,He],([t,e,l,n,o])=>{let r=q("Monarchy Swp",o)>0?t.Swamp:e.SwmpWood,i=t.Forest*5*(1+l.Woodworking),c=r*5*(1+l.Granary)*(1+q("Cajuns Wood",n));return i+c}),Yn=xe([Ee,Pe,Ce,pe,He],([t,e,l,n,o])=>{let i=(q("Monarchy Mtn",o)>0?t.Mountain:e.MntnIron)*5*(1+l.Bronzeworking+l.SteamEngine),c=5*t.Mountain*q("America",n),s=5*t.Mountain*q("Dictator",o);return i+c+s}),$n=xe([Ee,Pe,Ce,pe,He],([t,e,l,n,o])=>{let r=q("Monarchy Mtn",o)>0?t.Mountain:e.MntnGold,c=(q("Monarchy Dst",o)>0?t.Desert:e.DsrtGold)*(1+l.Currency+l.Banking),s=r*(1+l.Currency+l.Banking),d=t.Desert*q("Egypt Gold",n),f=3*q("Switzerland",n)*2**(l.Blacksmithing+l.Currency+l.Banking),w=1*t.Mountain*q("America",n),m=1*t.Forest*(1+l.Currency+l.Banking)*q("The Congo",n),v=3*q("Dutch Empire",n)*2**(l.Blacksmithing+l.Currency+l.Banking)*q("Democracy",o),h=c+s+d+f+w+m+v,T=Math.floor(h/5)*q("Inca",n);return h+T}),xn=xe([Ee,Pe,Ce,pe,He],([t,e,l,n,o])=>{let r=q("Monarchy Dst",o)>0?t.Desert:e.DsrtTech,i=e.OcnTech*(1+l.Literacy+l.Universities+l.Computers),c=r*(1+l.Literacy+l.Universities+l.Computers),s=t.Snow*(1+l.Literacy+l.Universities+l.Computers),d=t.Desert*q("Egypt Tech",n),f=3*q("Greece",n)*2**(l.Literacy+l.Universities+l.Computers),w=3*q("Dutch Empire",n)*2**(l.Literacy+l.Universities+l.Computers)*q("Democracy",o);return i+c+s+d+f+w}),Tt=xe([Qn,Xn,Yn,$n,xn],([t,e,l,n,o])=>({Food:t,Wood:e,Iron:l,Gold:n,Tech:o})),je=me({Food:B("Food"),Wood:B("Wood"),Iron:B("Iron"),Gold:B("Gold"),Tech:B("Tech")}),_t=me([]);function Et(t,e,l){const n=t.slice();return n[11]=e[l],n}function Pt(t){let e,l,n,o=t[11]+"",r,i;return{c(){e=b("div"),l=b("i"),n=j(),r=Z(o),i=j(),p(l,"class","fa fa-circle"),we(l,"color","black"),we(l,"font-size","7px")},m(c,s){N(c,e,s),u(e,l),u(e,n),u(e,r),u(e,i)},p(c,s){s&1&&o!==(o=c[11]+"")&&ae(r,o)},d(c){c&&L(e)}}}function el(t){let e,l,n,o;return{c(){e=b("input"),e.__value=l=t[0].name,ve(e,e.__value),p(e,"type","checkbox"),p(e,"class","svelte-myg987")},m(r,i){N(r,e,i),e.checked=t[3],n||(o=[x(e,"change",t[7]),x(e,"click",t[6])],n=!0)},p(r,i){i&1&&l!==(l=r[0].name)&&(e.__value=l,ve(e,e.__value)),i&8&&(e.checked=r[3])},d(r){r&&L(e),n=!1,ue(o)}}}function tl(t){let e;return{c(){e=b("i"),p(e,"class","fa fa-check"),we(e,"color","black"),we(e,"font-size","18px")},m(l,n){N(l,e,n)},p:$,d(l){l&&L(e)}}}function nl(t){let e,l,n,o=t[0].name+"",r,i,c,s,d=W(t[0].description),f=[];for(let h=0;h<d.length;h+=1)f[h]=Pt(Et(t,d,h));function w(h,T){if(h[5])return tl;if((h[1]<=h[2]||h[3])&&!h[4])return el}let m=w(t),v=m&&m(t);return{c(){e=b("main"),l=b("div"),n=b("span"),r=Z(o),i=j(),c=b("div");for(let h=0;h<f.length;h+=1)f[h].c();s=j(),v&&v.c(),p(l,"id","name"),p(l,"class","svelte-myg987"),p(c,"id","description"),p(c,"class","svelte-myg987"),p(e,"class","svelte-myg987")},m(h,T){N(h,e,T),u(e,l),u(l,n),u(n,r),u(e,i),u(e,c);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(c,null);u(e,s),v&&v.m(e,null)},p(h,[T]){if(T&1&&o!==(o=h[0].name+"")&&ae(r,o),T&1){d=W(h[0].description);let y;for(y=0;y<d.length;y+=1){const S=Et(h,d,y);f[y]?f[y].p(S,T):(f[y]=Pt(S),f[y].c(),f[y].m(c,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=d.length}m===(m=w(h))&&v?v.p(h,T):(v&&v.d(1),v=m&&m(h),v&&(v.c(),v.m(e,null)))},i:$,o:$,d(h){h&&L(e),_e(f,h),v&&v.d()}}}function ll(t,e,l){let n,o;z(t,_t,h=>l(8,n=h)),z(t,$e,h=>l(4,o=h));let{technology:r}=e,{cost:i}=e,{remainingTech:c}=e,s=!1,d=localStorage.getItem(r.name)==="1";const f=st();function w(h){h?f("updateupdateRemainingTech",{techCost:i}):f("updateupdateRemainingTech",{techCost:-i})}function m(){s?(w(!1),V(_t,n=n.filter(h=>h!==r.name),n)):(w(!0),n.push(r.name)),l(3,s=!s)}function v(){s=this.checked,l(3,s)}return t.$$set=h=>{"technology"in h&&l(0,r=h.technology),"cost"in h&&l(1,i=h.cost),"remainingTech"in h&&l(2,c=h.remainingTech)},[r,i,c,s,o,d,m,v]}class Je extends Se{constructor(e){super(),Te(this,e,ll,nl,ye,{technology:0,cost:1,remainingTech:2})}}function Ut(t,e,l){const n=t.slice();return n[18]=e[l],n}function At(t,e,l){const n=t.slice();return n[18]=e[l],n}function Wt(t,e,l){const n=t.slice();return n[18]=e[l],n}function zt(t,e,l){const n=t.slice();return n[18]=e[l],n}function Lt(t,e,l){const n=t.slice();return n[18]=e[l],n}function qt(t,e,l){const n=t.slice();return n[18]=e[l],n}function Nt(t,e,l){const n=t.slice();return n[18]=e[l],n}function Vt(t){let e,l;return e=new Je({props:{technology:t[18],cost:t[2],remainingTech:t[0]}}),e.$on("updateupdateRemainingTech",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o[0]&1&&(r.remainingTech=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Ht(t){let e,l;return e=new Je({props:{technology:t[18],cost:t[2]*2,remainingTech:t[0]}}),e.$on("updateupdateRemainingTech",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o[0]&1&&(r.remainingTech=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Jt(t){let e,l;return e=new Je({props:{technology:t[18],cost:t[2]*3,remainingTech:t[0]}}),e.$on("updateupdateRemainingTech",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o[0]&1&&(r.remainingTech=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Zt(t){let e,l;return e=new Je({props:{technology:t[18],cost:t[2]*6,remainingTech:t[0]}}),e.$on("updateupdateRemainingTech",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o[0]&1&&(r.remainingTech=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Kt(t){let e,l;return e=new Je({props:{technology:t[18],cost:t[2]*10,remainingTech:t[0]}}),e.$on("updateupdateRemainingTech",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o[0]&1&&(r.remainingTech=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Qt(t){let e,l;return e=new Je({props:{technology:t[18],cost:t[2]*16,remainingTech:t[0]}}),e.$on("updateupdateRemainingTech",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o[0]&1&&(r.remainingTech=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Xt(t){let e,l;return e=new Je({props:{technology:t[18],cost:t[2]*20,remainingTech:t[0]}}),e.$on("updateupdateRemainingTech",t[4]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o[0]&1&&(r.remainingTech=n[0]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function ol(t){let e,l,n,o,r,i,c,s,d,f,w,m,v,h,T,y,S,_,G,M,C,H,P,Y,F,re,be,ze,Ge,Re,ie,et,Ie,Be,tt,Ue,ee,Le,nt,fe,De,lt,de=W(t[5]),K=[];for(let g=0;g<de.length;g+=1)K[g]=Vt(Nt(t,de,g));const Ae=g=>E(K[g],1,1,()=>{K[g]=null});let ke=W(t[6]),Q=[];for(let g=0;g<ke.length;g+=1)Q[g]=Ht(qt(t,ke,g));const at=g=>E(Q[g],1,1,()=>{Q[g]=null});let ge=W(t[7]),A=[];for(let g=0;g<ge.length;g+=1)A[g]=Jt(Lt(t,ge,g));const qe=g=>E(A[g],1,1,()=>{A[g]=null});let Fe=W(t[8]),J=[];for(let g=0;g<Fe.length;g+=1)J[g]=Zt(zt(t,Fe,g));const ut=g=>E(J[g],1,1,()=>{J[g]=null});let he=W(t[9]),X=[];for(let g=0;g<he.length;g+=1)X[g]=Kt(Wt(t,he,g));const Ne=g=>E(X[g],1,1,()=>{X[g]=null});let Me=W(t[10]),U=[];for(let g=0;g<Me.length;g+=1)U[g]=Qt(At(t,Me,g));const I=g=>E(U[g],1,1,()=>{U[g]=null});let k=W(t[11]),D=[];for(let g=0;g<k.length;g+=1)D[g]=Xt(Ut(t,k,g));const gn=g=>E(D[g],1,1,()=>{D[g]=null});return{c(){e=b("main"),l=b("div"),n=b("div"),o=b("div"),o.textContent=`Starting Tech: ${t[1]}`,r=j(),i=b("div"),c=Z("Remaining Tech: "),s=Z(t[0]),d=j(),f=b("button"),f.textContent="Finalize Tech",w=j(),m=b("div"),v=b("div"),h=b("div"),h.textContent=`Cost: ${t[2]} Tech`,T=j();for(let g=0;g<K.length;g+=1)K[g].c();y=j(),S=b("div"),_=b("div"),_.textContent=`Cost: ${t[2]*2} Tech`,G=j();for(let g=0;g<Q.length;g+=1)Q[g].c();M=j(),C=b("div"),H=b("div"),H.textContent=`Cost: ${t[2]*3} Tech`,P=j();for(let g=0;g<A.length;g+=1)A[g].c();Y=j(),F=b("div"),re=b("div"),re.textContent=`Cost: ${t[2]*6} Tech`,be=j();for(let g=0;g<J.length;g+=1)J[g].c();ze=j(),Ge=b("div"),Re=b("div"),Re.textContent=`Cost: ${t[2]*10} Tech`,ie=j();for(let g=0;g<X.length;g+=1)X[g].c();et=j(),Ie=b("div"),Be=b("div"),Be.textContent=`Cost: ${t[2]*16} Tech`,tt=j();for(let g=0;g<U.length;g+=1)U[g].c();Ue=j(),ee=b("div"),Le=b("div"),Le.textContent=`Cost: ${t[2]*20} Tech`,nt=j();for(let g=0;g<D.length;g+=1)D[g].c();p(o,"id","title"),p(o,"class","svelte-1d4q3ea"),p(i,"id","title"),p(i,"class","svelte-1d4q3ea"),p(f,"id","finalize"),p(f,"class","svelte-1d4q3ea"),p(l,"class","header svelte-1d4q3ea"),we(h,"color","white"),p(v,"class","card-container svelte-1d4q3ea"),we(_,"color","white"),p(S,"class","card-container svelte-1d4q3ea"),we(H,"color","white"),p(C,"class","card-container svelte-1d4q3ea"),we(re,"color","white"),p(F,"class","card-container svelte-1d4q3ea"),we(Re,"color","white"),p(Ge,"class","card-container svelte-1d4q3ea"),we(Be,"color","white"),p(Ie,"class","card-container svelte-1d4q3ea"),we(Le,"color","white"),p(ee,"class","card-container svelte-1d4q3ea"),p(m,"class","tech-container svelte-1d4q3ea")},m(g,R){N(g,e,R),u(e,l),u(l,n),u(n,o),u(n,r),u(n,i),u(i,c),u(i,s),u(l,d),u(l,f),u(e,w),u(e,m),u(m,v),u(v,h),u(v,T);for(let a=0;a<K.length;a+=1)K[a]&&K[a].m(v,null);u(m,y),u(m,S),u(S,_),u(S,G);for(let a=0;a<Q.length;a+=1)Q[a]&&Q[a].m(S,null);u(m,M),u(m,C),u(C,H),u(C,P);for(let a=0;a<A.length;a+=1)A[a]&&A[a].m(C,null);u(m,Y),u(m,F),u(F,re),u(F,be);for(let a=0;a<J.length;a+=1)J[a]&&J[a].m(F,null);u(m,ze),u(m,Ge),u(Ge,Re),u(Ge,ie);for(let a=0;a<X.length;a+=1)X[a]&&X[a].m(Ge,null);u(m,et),u(m,Ie),u(Ie,Be),u(Ie,tt);for(let a=0;a<U.length;a+=1)U[a]&&U[a].m(Ie,null);u(m,Ue),u(m,ee),u(ee,Le),u(ee,nt);for(let a=0;a<D.length;a+=1)D[a]&&D[a].m(ee,null);fe=!0,De||(lt=x(f,"click",t[3]),De=!0)},p(g,R){if((!fe||R[0]&1)&&ae(s,g[0]),R[0]&53){de=W(g[5]);let a;for(a=0;a<de.length;a+=1){const te=Nt(g,de,a);K[a]?(K[a].p(te,R),O(K[a],1)):(K[a]=Vt(te),K[a].c(),O(K[a],1),K[a].m(v,null))}for(ce(),a=de.length;a<K.length;a+=1)Ae(a);se()}if(R[0]&85){ke=W(g[6]);let a;for(a=0;a<ke.length;a+=1){const te=qt(g,ke,a);Q[a]?(Q[a].p(te,R),O(Q[a],1)):(Q[a]=Ht(te),Q[a].c(),O(Q[a],1),Q[a].m(S,null))}for(ce(),a=ke.length;a<Q.length;a+=1)at(a);se()}if(R[0]&149){ge=W(g[7]);let a;for(a=0;a<ge.length;a+=1){const te=Lt(g,ge,a);A[a]?(A[a].p(te,R),O(A[a],1)):(A[a]=Jt(te),A[a].c(),O(A[a],1),A[a].m(C,null))}for(ce(),a=ge.length;a<A.length;a+=1)qe(a);se()}if(R[0]&277){Fe=W(g[8]);let a;for(a=0;a<Fe.length;a+=1){const te=zt(g,Fe,a);J[a]?(J[a].p(te,R),O(J[a],1)):(J[a]=Zt(te),J[a].c(),O(J[a],1),J[a].m(F,null))}for(ce(),a=Fe.length;a<J.length;a+=1)ut(a);se()}if(R[0]&533){he=W(g[9]);let a;for(a=0;a<he.length;a+=1){const te=Wt(g,he,a);X[a]?(X[a].p(te,R),O(X[a],1)):(X[a]=Kt(te),X[a].c(),O(X[a],1),X[a].m(Ge,null))}for(ce(),a=he.length;a<X.length;a+=1)Ne(a);se()}if(R[0]&1045){Me=W(g[10]);let a;for(a=0;a<Me.length;a+=1){const te=At(g,Me,a);U[a]?(U[a].p(te,R),O(U[a],1)):(U[a]=Qt(te),U[a].c(),O(U[a],1),U[a].m(Ie,null))}for(ce(),a=Me.length;a<U.length;a+=1)I(a);se()}if(R[0]&2069){k=W(g[11]);let a;for(a=0;a<k.length;a+=1){const te=Ut(g,k,a);D[a]?(D[a].p(te,R),O(D[a],1)):(D[a]=Xt(te),D[a].c(),O(D[a],1),D[a].m(ee,null))}for(ce(),a=k.length;a<D.length;a+=1)gn(a);se()}},i(g){if(!fe){for(let R=0;R<de.length;R+=1)O(K[R]);for(let R=0;R<ke.length;R+=1)O(Q[R]);for(let R=0;R<ge.length;R+=1)O(A[R]);for(let R=0;R<Fe.length;R+=1)O(J[R]);for(let R=0;R<he.length;R+=1)O(X[R]);for(let R=0;R<Me.length;R+=1)O(U[R]);for(let R=0;R<k.length;R+=1)O(D[R]);fe=!0}},o(g){K=K.filter(Boolean);for(let R=0;R<K.length;R+=1)E(K[R]);Q=Q.filter(Boolean);for(let R=0;R<Q.length;R+=1)E(Q[R]);A=A.filter(Boolean);for(let R=0;R<A.length;R+=1)E(A[R]);J=J.filter(Boolean);for(let R=0;R<J.length;R+=1)E(J[R]);X=X.filter(Boolean);for(let R=0;R<X.length;R+=1)E(X[R]);U=U.filter(Boolean);for(let R=0;R<U.length;R+=1)E(U[R]);D=D.filter(Boolean);for(let R=0;R<D.length;R+=1)E(D[R]);fe=!1},d(g){g&&L(e),_e(K,g),_e(Q,g),_e(A,g),_e(J,g),_e(X,g),_e(U,g),_e(D,g),De=!1,lt()}}}function rl(t,e,l){let n,o,r,i,c,s;z(t,$e,C=>l(12,n=C)),z(t,_t,C=>l(13,o=C)),z(t,je,C=>l(14,r=C)),z(t,Oe,C=>l(15,i=C)),z(t,Ce,C=>l(16,c=C)),z(t,wt,C=>l(17,s=C));let d=r.Tech,f=d,w=s==2?5:6;return console.log(s),[f,d,w,()=>{o.forEach(C=>{localStorage.setItem(C,"1"),V(Ce,c[C]=1,c)}),localStorage.setItem("selectionPhase","activeRound"),V(Oe,i="activeRound",i),V(je,r.Tech=f,r),V(_t,o=[],o),V($e,n=!1,n)},C=>{let H=C.detail.techCost;l(0,f-=H)},[{name:"Literacy",description:["Gain +1 from all tech tiles"]},{name:"Brickworking",description:["Essential technology for walls and brickworking"]},{name:"Blacksmithing",description:["Unlock lvl 2 Infantry"]},{name:"Woodworking",description:["Unlock lvl 2 archers","+5 wood from Forest","+5 food from Forest"]},{name:"Agriculture",description:["+5 food from Plains"]}],[{name:"Horseback",description:["Unlock lvl 1 calvary"]},{name:"Roadworking",description:["Units can transport from ally city to ally city","Maximum of 4 blocks by land between cities","Enemy controlled territories cannot separate traveling cities"]},{name:"Walls",description:["Units in cities gain +2 defense"]},{name:"Bronzeworking",description:["Unlock lvl 3 infantry","+5 iron from Mountains"]},{name:"Shipbuilding",description:["Unlock lvl 1 navy units"]},{name:"Granary",description:["+5 food from plains","+5 food/wood from swamps","+5 food from forest"]}],[{name:"Navigation",description:["+5 food from oceans"]},{name:"Gunpowder",description:["Unlock lvl 1 ground forces"]},{name:"Currency",description:["+1 gold from all gold squares"]}],[{name:"Universities",description:["+1 tech from all tech tiles"]},{name:"Canons",description:["Unlock lvl 2 calvary"]},{name:"SteamEngine",description:["+5 iron from Mountains"]}],[{name:"Computers",description:["+1 tech from all tech tiles"]},{name:"Flight",description:["Unlock lvl 1 air forces"]},{name:"CombustionEngine",description:["Wood can now be converted to iron","50 wood -> 10 iron"]},{name:"Steamboat",description:["Unlock lvl 2 navy"]},{name:"FarmingRevolution",description:["+5 food from Plains","Wood can now be converted to food","40 wood -> 10 food"]},{name:"Banking",description:["+1 gold from all gold tiles"]}],[{name:"AdvancedFlight",description:["Unlock lvl 2 air force"]},{name:"Industrialization",description:["Units can spawn from any ally city"]},{name:"Tanks",description:["Unlock lvl 3 calvary"]},{name:"Battleships",description:["Unlock lvl 3 navy"]},{name:"ModernInfantry",description:["Unlock lvl 2 advanced units"]},{name:"WorldBank",description:["Reach 250 gold and you win!"]}],[{name:"SpaceFlight",description:["Reach for the starts and colonize a new planet","Collect 2000 food, 500 iron, all technologies and you win!"]}]]}class il extends Se{constructor(e){super(),Te(this,e,rl,ol,ye,{},null,[-1,-1])}}function cl(t){let e,l,n;return{c(){e=b("input"),p(e,"class","current svelte-hylj3f"),p(e,"type","number"),p(e,"placeholder","")},m(o,r){N(o,e,r),ve(e,t[0]),l||(n=[x(e,"change",t[5]),x(e,"input",t[6])],l=!0)},p(o,r){r&1&&We(e.value)!==o[0]&&ve(e,o[0])},d(o){o&&L(e),l=!1,ue(n)}}}function sl(t){let e,l,n;return{c(){e=b("div"),l=Z("+"),n=Z(t[0]),p(e,"id","value")},m(o,r){N(o,e,r),u(e,l),u(e,n)},p(o,r){r&1&&ae(n,o[0])},d(o){o&&L(e)}}}function al(t){let e,l,n,o;function r(s,d){return s[2]?sl:cl}let i=r(t),c=i(t);return{c(){e=b("main"),l=b("div"),n=Z(t[1]),o=j(),c.c(),p(l,"id","resource"),p(e,"class","svelte-hylj3f")},m(s,d){N(s,e,d),u(e,l),u(l,n),u(e,o),c.m(e,null)},p(s,[d]){d&2&&ae(n,s[1]),i===(i=r(s))&&c?c.p(s,d):(c.d(1),c=i(s),c&&(c.c(),c.m(e,null)))},i:$,o:$,d(s){s&&L(e),c.d()}}}function ul(t){return String(t).replace(/^0+/,"")}function fl(t,e,l){let{resource:n}=e,{value:o}=e,{perTurn:r}=e,{updateCurrentResources:i}=e;function c(){let f=ul(o);o||(f="0"),i(n,f),localStorage.setItem(n,f)}const s=()=>c();function d(){o=We(this.value),l(0,o)}return t.$$set=f=>{"resource"in f&&l(1,n=f.resource),"value"in f&&l(0,o=f.value),"perTurn"in f&&l(2,r=f.perTurn),"updateCurrentResources"in f&&l(4,i=f.updateCurrentResources)},[o,n,r,c,i,s,d]}class hn extends Se{constructor(e){super(),Te(this,e,fl,al,ye,{resource:1,value:0,perTurn:2,updateCurrentResources:4})}}function dl(t){let e,l,n;return{c(){e=b("input"),p(e,"class","value svelte-1c4blx"),p(e,"placeholder",""),p(e,"type","number")},m(o,r){N(o,e,r),ve(e,t[0]),l||(n=[x(e,"input",t[11]),x(e,"change",t[12])],l=!0)},p(o,r){r&1&&We(e.value)!==o[0]&&ve(e,o[0])},d(o){o&&L(e),l=!1,ue(n)}}}function hl(t){let e,l,n;return{c(){e=b("input"),p(e,"class","value svelte-1c4blx"),p(e,"placeholder",""),p(e,"type","number"),e.readOnly=!0},m(o,r){N(o,e,r),ve(e,t[0]),l||(n=[x(e,"input",t[9]),x(e,"click",t[10])],l=!0)},p(o,r){r&1&&We(e.value)!==o[0]&&ve(e,o[0])},d(o){o&&L(e),l=!1,ue(n)}}}function ml(t){let e,l,n,o;function r(s,d){return s[2]==="true"?hl:dl}let i=r(t),c=i(t);return{c(){e=b("main"),l=b("div"),n=Z(t[1]),o=j(),c.c(),p(l,"class","resource svelte-1c4blx"),p(e,"class","svelte-1c4blx")},m(s,d){N(s,e,d),u(e,l),u(l,n),u(e,o),c.m(e,null)},p(s,[d]){d&2&&ae(n,s[1]),i===(i=r(s))&&c?c.p(s,d):(c.d(1),c=i(s),c&&(c.c(),c.m(e,null)))},i:$,o:$,d(s){s&&L(e),c.d()}}}function gl(t){return String(t).replace(/^0+/,"")}function _l(t,e,l){let{tileType:n}=e,{value:o}=e,{updateTileValue:r}=e,{government:i}=e,{currentTiles:c}=e,{currentToggleTiles:s}=e,{toggle:d}=e;function f(y,S){let _=gl(S);(!S||!_)&&(_="0"),r(y,_),localStorage.setItem(y,_),y==="Desert"?(r("DsrtGold",_),localStorage.setItem("DsrtGold",_),r("DsrtTech","0"),localStorage.setItem("DsrtTech","0")):y==="Mountain"?(r("MntnIron",_),localStorage.setItem("MntnIron",_),r("MntnGold","0"),localStorage.setItem("MntnGold","0")):y==="Swamp"?(r("SwmpFood",_),localStorage.setItem("SwmpFood",_),r("SwmpWood","0"),localStorage.setItem("SwmpWood","0")):y==="Ocean"&&(r("OcnFood",_),localStorage.setItem("OcnFood",_),r("OcnTech","0"),localStorage.setItem("OcnTech","0"))}const w=y=>{let S,_,G,M;n.includes("Dsrt")?(S=c.Desert,n.includes("Gold")?_="DsrtTech":_="DsrtGold"):n.includes("Mntn")?(S=c.Mountain,n.includes("Gold")?_="MntnIron":_="MntnGold"):n.includes("Swmp")?(S=c.Swamp,n.includes("Food")?_="SwmpWood":_="SwmpFood"):n.includes("Ocn")&&(S=c.Ocean,n.includes("Food")?_="OcnTech":_="OcnFood"),parseInt(s[n])<parseInt(S)&&(M=String(parseInt(o)+1),f(y,M),parseInt(s[_])>0&&(G=String(parseInt(s[_])-1),f(_,G)))};Rn(()=>{i.includes("Monarchy")&&(i==="Monarchy Dst"&&n.includes("Dsrt")||i==="Monarchy Swp"&&n.includes("Swmp")||i==="Monarchy Mtn"&&n.includes("Mntn"))});function m(){o=We(this.value),l(0,o)}const v=()=>w(n);function h(){o=We(this.value),l(0,o)}const T=()=>f(n,o);return t.$$set=y=>{"tileType"in y&&l(1,n=y.tileType),"value"in y&&l(0,o=y.value),"updateTileValue"in y&&l(5,r=y.updateTileValue),"government"in y&&l(6,i=y.government),"currentTiles"in y&&l(7,c=y.currentTiles),"currentToggleTiles"in y&&l(8,s=y.currentToggleTiles),"toggle"in y&&l(2,d=y.toggle)},[o,n,d,f,w,r,i,c,s,m,v,h,T]}class mn extends Se{constructor(e){super(),Te(this,e,_l,ml,ye,{tileType:1,value:0,updateTileValue:5,government:6,currentTiles:7,currentToggleTiles:8,toggle:2})}}function Yt(t){let e,l,n,o,r,i,c,s,d;const f=t[5].default,w=bn(f,t,t[4],null);return{c(){e=b("div"),l=b("div"),w&&w.c(),n=j(),o=b("button"),o.textContent="Confirm",r=j(),i=b("button"),i.textContent="Decline",p(o,"class","svelte-jtoi59"),p(i,"class","svelte-jtoi59"),p(l,"class","modal svelte-jtoi59"),p(e,"class","modal-background svelte-jtoi59")},m(m,v){N(m,e,v),u(e,l),w&&w.m(l,null),u(l,n),u(l,o),u(l,r),u(l,i),c=!0,s||(d=[x(o,"click",t[2]),x(i,"click",t[1])],s=!0)},p(m,v){w&&w.p&&(!c||v&16)&&wn(w,f,m,m[4],c?kn(f,m[4],v,null):Cn(m[4]),null)},i(m){c||(O(w,m),c=!0)},o(m){E(w,m),c=!1},d(m){m&&L(e),w&&w.d(m),s=!1,ue(d)}}}function pl(t){let e,l,n=t[0]&&Yt(t);return{c(){n&&n.c(),e=ct()},m(o,r){n&&n.m(o,r),N(o,e,r),l=!0},p(o,[r]){o[0]?n?(n.p(o,r),r&1&&O(n,1)):(n=Yt(o),n.c(),O(n,1),n.m(e.parentNode,e)):n&&(ce(),E(n,1,1,()=>{n=null}),se())},i(o){l||(O(n),l=!0)},o(o){E(n),l=!1},d(o){o&&L(e),n&&n.d(o)}}}function vl(t,e,l){let n,o,r,i,c,s,d;z(t,Oe,_=>l(6,n=_)),z(t,Ce,_=>l(7,o=_)),z(t,je,_=>l(8,r=_)),z(t,Pe,_=>l(9,i=_)),z(t,Ee,_=>l(10,c=_)),z(t,rt,_=>l(11,s=_)),z(t,Tt,_=>l(12,d=_));let{$$slots:f={},$$scope:w}=e,{show:m=!1}=e,{endRound:v}=e;const h=()=>{if(l(0,m=!1),s%3==0&&s!==0)V(Oe,n="government",n),localStorage.setItem("selectionPhase","government");else{for(const[_,G]of Object.entries(r))V(je,r[_]=parseInt(r[_],10)+d[_],r),localStorage.setItem(_,r[_]);localStorage.setItem("selectionPhase","technology"),V(Oe,n="technology",n)}V(rt,s+=1,s),localStorage.setItem("round",s)},T=()=>{localStorage.setItem("country","0"),localStorage.setItem("government","0"),localStorage.setItem("round","0"),V(rt,s=0,s);for(const[_,G]of Object.entries(c))localStorage.setItem(_,"0"),V(Ee,c[_]=0,c);for(const[_,G]of Object.entries(i))localStorage.setItem(_,"0"),V(Pe,i[_]=0,i);for(const[_,G]of Object.entries(r))localStorage.setItem(_,"0"),V(je,r[_]=0,r);for(const[_,G]of Object.entries(o))localStorage.setItem(_,"0"),V(Ce,o[_]=0,o);localStorage.setItem("selectionPhase","country"),V(Oe,n="country",n)},y=()=>{l(0,m=!1)},S=()=>{v==="true"?h():T()};return t.$$set=_=>{"show"in _&&l(0,m=_.show),"endRound"in _&&l(3,v=_.endRound),"$$scope"in _&&l(4,w=_.$$scope)},[m,y,S,v,w,f]}class yl extends Se{constructor(e){super(),Te(this,e,vl,pl,ye,{show:0,endRound:3})}}function $t(t,e,l){const n=t.slice();return n[22]=e[l][0],n[23]=e[l][1],n}function xt(t,e,l){const n=t.slice();return n[22]=e[l][0],n[23]=e[l][1],n}function en(t,e,l){const n=t.slice();return n[28]=e[l][0],n[23]=e[l][1],n}function tn(t,e,l){const n=t.slice();return n[28]=e[l][0],n[23]=e[l][1],n}function bl(t){let e,l;return{c(){e=b("div"),l=Z(t[0]),p(e,"id","country"),p(e,"class","svelte-1a57eh1")},m(n,o){N(n,e,o),u(e,l)},p(n,o){o[0]&1&&ae(l,n[0])},d(n){n&&L(e)}}}function kl(t){let e,l,n,o,r,i;return{c(){e=b("div"),l=Z(t[0]),n=j(),o=b("input"),p(e,"id","country"),p(e,"class","svelte-1a57eh1"),p(o,"id","atlantis"),p(o,"type","number"),p(o,"placeholder","0"),p(o,"class","svelte-1a57eh1")},m(c,s){N(c,e,s),u(e,l),N(c,n,s),N(c,o,s),ve(o,t[5]),r||(i=[x(o,"input",t[18]),x(o,"change",t[19])],r=!0)},p(c,s){s[0]&1&&ae(l,c[0]),s[0]&32&&We(o.value)!==c[5]&&ve(o,c[5])},d(c){c&&(L(e),L(n),L(o)),r=!1,ue(i)}}}function wl(t){let e,l,n,o;return{c(){e=b("div"),l=Z(t[0]),p(e,"id","country"),p(e,"class","svelte-1a57eh1")},m(r,i){N(r,e,i),u(e,l),n||(o=x(e,"click",t[15]),n=!0)},p(r,i){i[0]&1&&ae(l,r[0])},d(r){r&&L(e),n=!1,o()}}}function nn(t,e){let l,n,o;return n=new hn({props:{resource:e[28],value:e[23],perTurn:!1,updateCurrentResources:e[13]}}),{key:t,first:null,c(){l=ct(),oe(n.$$.fragment),this.first=l},m(r,i){N(r,l,i),ne(n,r,i),o=!0},p(r,i){e=r;const c={};i[0]&256&&(c.resource=e[28]),i[0]&256&&(c.value=e[23]),n.$set(c)},i(r){o||(O(n.$$.fragment,r),o=!0)},o(r){E(n.$$.fragment,r),o=!1},d(r){r&&L(l),le(n,r)}}}function ln(t,e){let l,n,o;return n=new hn({props:{resource:e[28],value:e[23],perTurn:!0,updateCurrentResources:e[13]}}),{key:t,first:null,c(){l=ct(),oe(n.$$.fragment),this.first=l},m(r,i){N(r,l,i),ne(n,r,i),o=!0},p(r,i){e=r;const c={};i[0]&512&&(c.resource=e[28]),i[0]&512&&(c.value=e[23]),n.$set(c)},i(r){o||(O(n.$$.fragment,r),o=!0)},o(r){E(n.$$.fragment,r),o=!1},d(r){r&&L(l),le(n,r)}}}function on(t,e){let l,n,o;return n=new mn({props:{tileType:e[22],value:e[23],updateTileValue:e[12],government:e[1],currentTiles:[],currentToggleTiles:[],toggle:"false"}}),{key:t,first:null,c(){l=ct(),oe(n.$$.fragment),this.first=l},m(r,i){N(r,l,i),ne(n,r,i),o=!0},p(r,i){e=r;const c={};i[0]&1024&&(c.tileType=e[22]),i[0]&1024&&(c.value=e[23]),i[0]&2&&(c.government=e[1]),n.$set(c)},i(r){o||(O(n.$$.fragment,r),o=!0)},o(r){E(n.$$.fragment,r),o=!1},d(r){r&&L(l),le(n,r)}}}function rn(t,e){let l,n,o;return n=new mn({props:{tileType:e[22],value:e[23],updateTileValue:e[12],government:e[1],currentTiles:e[10],currentToggleTiles:e[11],toggle:"true"}}),{key:t,first:null,c(){l=ct(),oe(n.$$.fragment),this.first=l},m(r,i){N(r,l,i),ne(n,r,i),o=!0},p(r,i){e=r;const c={};i[0]&2048&&(c.tileType=e[22]),i[0]&2048&&(c.value=e[23]),i[0]&2&&(c.government=e[1]),i[0]&1024&&(c.currentTiles=e[10]),i[0]&2048&&(c.currentToggleTiles=e[11]),n.$set(c)},i(r){o||(O(n.$$.fragment,r),o=!0)},o(r){E(n.$$.fragment,r),o=!1},d(r){r&&L(l),le(n,r)}}}function cn(t){let e,l,n;function o(i){t[20](i)}let r={endRound:t[4],$$slots:{default:[Cl]},$$scope:{ctx:t}};return t[2]!==void 0&&(r.show=t[2]),e=new yl({props:r}),yt.push(()=>Dn(e,"show",o)),{c(){oe(e.$$.fragment)},m(i,c){ne(e,i,c),n=!0},p(i,c){const s={};c[0]&16&&(s.endRound=i[4]),c[0]&8|c[1]&4&&(s.$$scope={dirty:c,ctx:i}),!l&&c[0]&4&&(l=!0,s.show=i[2],Mn(()=>l=!1)),e.$set(s)},i(i){n||(O(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function Cl(t){let e,l;return{c(){e=b("h2"),l=Z(t[3])},m(n,o){N(n,e,o),u(e,l)},p(n,o){o[0]&8&&ae(l,n[3])},d(n){n&&L(e)}}}function Tl(t){let e,l,n,o,r,i,c,s,d,f,w,m,v,h,T,y,S,_,G=[],M=new Map,C,H,P,Y,F=[],re=new Map,be,ze,Ge,Re,ie=[],et=new Map,Ie,Be,tt,Ue,ee=[],Le=new Map,nt,fe,De,lt,de,K,Ae,ke,Q;function at(I,k){return k[0]&64&&(n=null),k[0]&64&&(o=null),n==null&&(n=!!(I[6].includes("Cajuns")||I[6].includes("Egypt"))),n?wl:(o==null&&(o=!!I[6].includes("Atlantis")),o?kl:bl)}let ge=at(t,[-1,-1]),A=ge(t),qe=W(Object.entries(t[8]));const Fe=I=>I[28];for(let I=0;I<qe.length;I+=1){let k=tn(t,qe,I),D=Fe(k);M.set(D,G[I]=nn(D,k))}let J=W(Object.entries(t[9]));const ut=I=>I[28];for(let I=0;I<J.length;I+=1){let k=en(t,J,I),D=ut(k);re.set(D,F[I]=ln(D,k))}let he=W(Object.entries(t[10]));const X=I=>I[22];for(let I=0;I<he.length;I+=1){let k=xt(t,he,I),D=X(k);et.set(D,ie[I]=on(D,k))}let Ne=W(Object.entries(t[11]));const Me=I=>I[22];for(let I=0;I<Ne.length;I+=1){let k=$t(t,Ne,I),D=Me(k);Le.set(D,ee[I]=rn(D,k))}let U=t[2]&&cn(t);return{c(){e=b("main"),l=b("header"),A.c(),r=j(),i=b("div"),c=b("div"),s=Z(t[1]),d=j(),f=b("div"),w=Z("Round: "),m=Z(t[7]),v=j(),h=b("div"),T=Z(`Current Resources\r
        `),y=b("i"),S=j(),_=b("div");for(let I=0;I<G.length;I+=1)G[I].c();C=j(),H=b("div"),H.textContent="Resources Per Turn",P=j(),Y=b("div");for(let I=0;I<F.length;I+=1)F[I].c();be=j(),ze=b("div"),ze.textContent="Tile Count",Ge=j(),Re=b("div");for(let I=0;I<ie.length;I+=1)ie[I].c();Ie=j(),Be=b("div"),Be.textContent="Toggles",tt=j(),Ue=b("div");for(let I=0;I<ee.length;I+=1)ee[I].c();nt=j(),fe=b("div"),De=b("button"),De.textContent="End Round",lt=j(),de=b("button"),de.textContent="Reset",K=j(),U&&U.c(),p(c,"id","government"),p(c,"class","svelte-1a57eh1"),p(f,"id","government"),p(f,"class","svelte-1a57eh1"),p(l,"class","svelte-1a57eh1"),p(y,"class","fa fa-question-circle"),p(y,"aria-hidden","true"),p(h,"class","currentResourceHeader svelte-1a57eh1"),p(_,"class","currentResources svelte-1a57eh1"),p(H,"class","currentResourceHeader svelte-1a57eh1"),p(Y,"class","currentResources svelte-1a57eh1"),p(ze,"class","currentResourceHeader svelte-1a57eh1"),p(Re,"class","currentResources svelte-1a57eh1"),p(Be,"class","currentResourceHeader svelte-1a57eh1"),p(Ue,"class","currentResources svelte-1a57eh1"),De.value="true",de.value="false",p(fe,"id","buttons"),p(fe,"class","svelte-1a57eh1"),p(e,"class","svelte-1a57eh1")},m(I,k){N(I,e,k),u(e,l),A.m(l,null),u(l,r),u(l,i),u(i,c),u(c,s),u(i,d),u(i,f),u(f,w),u(f,m),u(e,v),u(e,h),u(h,T),u(h,y),u(e,S),u(e,_);for(let D=0;D<G.length;D+=1)G[D]&&G[D].m(_,null);u(e,C),u(e,H),u(e,P),u(e,Y);for(let D=0;D<F.length;D+=1)F[D]&&F[D].m(Y,null);u(e,be),u(e,ze),u(e,Ge),u(e,Re);for(let D=0;D<ie.length;D+=1)ie[D]&&ie[D].m(Re,null);u(e,Ie),u(e,Be),u(e,tt),u(e,Ue);for(let D=0;D<ee.length;D+=1)ee[D]&&ee[D].m(Ue,null);u(e,nt),u(e,fe),u(fe,De),u(fe,lt),u(fe,de),u(e,K),U&&U.m(e,null),Ae=!0,ke||(Q=[x(y,"click",t[17]),x(De,"click",t[14]),x(de,"click",t[14])],ke=!0)},p(I,k){ge===(ge=at(I,k))&&A?A.p(I,k):(A.d(1),A=ge(I),A&&(A.c(),A.m(l,r))),(!Ae||k[0]&2)&&ae(s,I[1]),(!Ae||k[0]&128)&&ae(m,I[7]),k[0]&8448&&(qe=W(Object.entries(I[8])),ce(),G=dt(G,k,Fe,1,I,qe,M,_,ft,nn,null,tn),se()),k[0]&8704&&(J=W(Object.entries(I[9])),ce(),F=dt(F,k,ut,1,I,J,re,Y,ft,ln,null,en),se()),k[0]&5122&&(he=W(Object.entries(I[10])),ce(),ie=dt(ie,k,X,1,I,he,et,Re,ft,on,null,xt),se()),k[0]&7170&&(Ne=W(Object.entries(I[11])),ce(),ee=dt(ee,k,Me,1,I,Ne,Le,Ue,ft,rn,null,$t),se()),I[2]?U?(U.p(I,k),k[0]&4&&O(U,1)):(U=cn(I),U.c(),O(U,1),U.m(e,null)):U&&(ce(),E(U,1,1,()=>{U=null}),se())},i(I){if(!Ae){for(let k=0;k<qe.length;k+=1)O(G[k]);for(let k=0;k<J.length;k+=1)O(F[k]);for(let k=0;k<he.length;k+=1)O(ie[k]);for(let k=0;k<Ne.length;k+=1)O(ee[k]);O(U),Ae=!0}},o(I){for(let k=0;k<G.length;k+=1)E(G[k]);for(let k=0;k<F.length;k+=1)E(F[k]);for(let k=0;k<ie.length;k+=1)E(ie[k]);for(let k=0;k<ee.length;k+=1)E(ee[k]);E(U),Ae=!1},d(I){I&&L(e),A.d();for(let k=0;k<G.length;k+=1)G[k].d();for(let k=0;k<F.length;k+=1)F[k].d();for(let k=0;k<ie.length;k+=1)ie[k].d();for(let k=0;k<ee.length;k+=1)ee[k].d();U&&U.d(),ke=!1,ue(Q)}}}function Sl(t){return String(t).replace(/^0+/,"")}function Gl(t,e,l){let n,o,r,i,c,s,d,f;z(t,$e,F=>l(21,n=F)),z(t,mt,F=>l(5,o=F)),z(t,pe,F=>l(6,r=F)),z(t,rt,F=>l(7,i=F)),z(t,je,F=>l(8,c=F)),z(t,Tt,F=>l(9,s=F)),z(t,Ee,F=>l(10,d=F)),z(t,Pe,F=>l(11,f=F));let{selectedCountry:w}=e,{government:m}=e,v=!1,h,T;function y(F,re){F.includes("oo")||F.includes("Tech")||F.includes("Gold")||F.includes("Iron")?Pe.update(be=>({...be,[F]:re})):Ee.update(be=>({...be,[F]:re}))}function S(F,re){je.update(be=>({...be,[F]:re}))}const _=F=>{l(4,T=F.target.value),l(2,v=!0),T==="true"?l(3,h="Would you like to end your round?"):l(3,h="Would you like to reset your game?")},G=()=>{r.includes("Cajuns")?r==="Cajuns Food"?V(pe,r="Cajuns Wood",r):V(pe,r="Cajuns Food",r):r.includes("Egypt")&&(r==="Egypt Gold"?V(pe,r="Egypt Tech",r):V(pe,r="Egypt Gold",r)),localStorage.setItem("country",r)},M=()=>{let F=Sl(o);localStorage.setItem("atlantisCities",F),V(mt,o=F,o)},C=()=>{console.log("looking"),V($e,n=!0,n)};function H(){o=We(this.value),mt.set(o)}const P=()=>M();function Y(F){v=F,l(2,v)}return t.$$set=F=>{"selectedCountry"in F&&l(0,w=F.selectedCountry),"government"in F&&l(1,m=F.government)},[w,m,v,h,T,o,r,i,c,s,d,f,y,S,_,G,M,C,H,P,Y]}class Rl extends Se{constructor(e){super(),Te(this,e,Gl,Tl,ye,{selectedCountry:0,government:1},null,[-1,-1])}}function Il(t){let e,l;return e=new Rl({props:{selectedCountry:t[2],government:t[1]}}),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p(n,o){const r={};o&4&&(r.selectedCountry=n[2]),o&2&&(r.government=n[1]),e.$set(r)},i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Fl(t){let e,l;return e=new il({}),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p:$,i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Ml(t){let e,l;return e=new Zn({}),e.$on("updateFinalGovernment",t[6]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p:$,i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Ol(t){let e,l;return e=new Ln({}),e.$on("updateFinalCountry",t[4]),e.$on("updatePlayerCount",t[5]),{c(){oe(e.$$.fragment)},m(n,o){ne(e,n,o),l=!0},p:$,i(n){l||(O(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){le(e,n)}}}function Bl(t){let e,l,n,o;const r=[Ol,Ml,Fl,Il],i=[];function c(s,d){return s[0]==="country"?0:s[0]==="government"?1:s[0]==="technology"||s[3]?2:3}return l=c(t),n=i[l]=r[l](t),{c(){e=b("main"),n.c()},m(s,d){N(s,e,d),i[l].m(e,null),o=!0},p(s,[d]){let f=l;l=c(s),l===f?i[l].p(s,d):(ce(),E(i[f],1,1,()=>{i[f]=null}),se(),n=i[l],n?n.p(s,d):(n=i[l]=r[l](s),n.c()),O(n,1),n.m(e,null))},i(s){o||(O(n),o=!0)},o(s){E(n),o=!1},d(s){s&&L(e),i[l].d()}}}function Dl(t,e,l){let n,o,r,i,c,s,d,f,w;z(t,Oe,T=>l(0,n=T)),z(t,je,T=>l(7,o=T)),z(t,Tt,T=>l(8,r=T)),z(t,rt,T=>l(9,i=T)),z(t,He,T=>l(1,c=T)),z(t,wt,T=>l(10,s=T)),z(t,Ce,T=>l(11,d=T)),z(t,pe,T=>l(2,f=T)),z(t,$e,T=>l(3,w=T));function m(T){localStorage.setItem("country",T.detail.finalCountry),V(pe,f=T.detail.finalCountry,f),localStorage.setItem("selectionPhase","government"),V(Oe,n="government",n),T.detail.finalCountry==="Israel"&&(localStorage.setItem("Agriculture","1"),V(Ce,d.Agriculture=1,d))}function v(T){localStorage.setItem("playerCount",T.detail.finalPlayerCount),V(wt,s=T.detail.finalPlayerCount,s),console.log(s),console.log(T.detail.finalPlayerCount)}function h(T){if(localStorage.setItem("government",T.detail.finalGovernment),V(He,c=T.detail.finalGovernment,c),i===0)localStorage.setItem("selectionPhase","activeRound"),V(Oe,n="activeRound",n);else{for(const[y,S]of Object.entries(o))V(je,o[y]=parseInt(o[y],10)+r[y],o),localStorage.setItem(y,o[y]);localStorage.setItem("selectionPhase","technology"),V(Oe,n="technology",n)}}return[n,c,f,w,m,v,h]}class jl extends Se{constructor(e){super(),Te(this,e,Dl,Bl,ye,{})}}new jl({target:document.getElementById("app")});
